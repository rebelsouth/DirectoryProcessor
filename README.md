# DirectoryProcessor


Мануал по скрипту DirectoryProcessor


1. DirectoryProcessor (далее - программа) реализует рекурсивную очистку директорий и файлов, которые не соответствуют данным из искомой базы данных. 

Логика программы основывается на построении префиксного дерева из ID из базы данных (далее - БД) (класс PrefixTree) и рекурсивном удалении данных и директорий (класс DirectoryProcessor) — программа сканирует выбранную директорию и удаляет:
    • Файлы, чьи пути (преобразованные в числовой ID) отсутствуют в дереве
    • Пустые директории — если после удаления они не содержат файлы


2. Программа предоставляет графический интерфейс (далее — GUI)
GUI состоит из:
    • Текстовых полей для ввода данных	
    • Кнопок для управления процессом
    • Строки статуса, отображающей текущее состояние выполнения	


Поле «Введите глубину» - Количество уровней вложенности, которые учитываются при  анализе путей (для пути 1/2/3/4/5/6 — глубина равна 6 → ID 123456)

Кнопка  «Установить глубину» - Фиксирует значение глубины для последующих операций

Кнопка «Загрузить ID из файла» - открывает файловый менеджер для выбора соответствующего файла  (ТОЛЬКО ФОРМАТ TXT!!!!!). Формат файла — числа разделенные табуляциями — каждое число на новой строке (допустимы разделенные пробелами или запятыми, но все тесты проводились только с первым вариантом)

Кнопка «Выберите директорию» - открывает файловый менеджер для выбора корневой директории

Кнопка «Построение префиксного дерева» - строит префиксное дерево в соответствии с выбранным файлом с ID 

Кнопка «Очистка директорий» - запускает работу основной программы для очистки всех не подходящих под критерии директории и файлы  

Статусная строка — показывает сообщения (ошибки, успешное выполнение и т.д)





Пошаговая инструкция

1. Установка глубины

    • Введите в поле «Введите глубину» число (будем рассматривать на примере 6)

    • Нажмите «Установить глубину» 

        ◦  в статусной строке появится «Глубина установлена 6»
3. Выбор файла с ID

    • Нажмите «Загрузить ID из файла»

    • Появится файловый менеджер, в котором надо будет выбрать файл, соответствующий критериям, описанным выше

        ◦ Программа подсчитает количество чисел и в статусной строке появится «Загружено ID из файла: *ваше значение*» (например, «Загружено ID из файла: 99991»
4. Выбор корневой директории

    • Нажмите «Выбери директорию»

    • Появится файловый менеджер, в котором надо будет выбрать корневую директорию

        ◦ В статусной строке появится «Выбрана: *путь к вашей директории*» (например, «Выбрана: /home/rebelsouth/Рабочий стол/Test»
5. Построение префиксного дерева

    • Нажмите «Построение префиксного дерева»

    • Программа преобразует ID в дерево для оптимизации поиска

        ◦ В статусной строке появится «Построено префиксное дерево с *ваше значение* вхождениями» (например, Построено префиксное дерево с 99991 вхождениями»)
6. Запуск очистки

    • Нажмите «Очистка директорий»

    • Программа начнет рекурсивную проверку файлов и папок

    • По завершении в статусной строке появится «Программа выполнена успешно!»

Удалённые файлы нельзя восстановить через программу. 

Рекомендуется сделать резервную копию перед очисткой.
